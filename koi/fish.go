package koi

import (
	"encoding/base64"
	"fmt"
	"time"

	"github.com/pkg/errors"
)

func FishCommand(exe string, args []string) (exitCode int, runError error) {
	fish := []string{
		"ICA7LC8vOywgICAgLDsvCiBvOjo6Ojo6Ojs7Ly8vCj46Ojo6Ojo6Ojs7XFxcCiAgJydcXFxcXCciICc7XAo=",
		"ICAgICAgIC4KICAgICAgIjoiCiAgICBfX186X19fXyAgICAgfCJcLyJ8CiAgLCcgICAgICAgIGAuICAgIFwgIC8KICB8ICBPICAgICAgICBcX19fLyAgfAp+Xn5efl5+Xn5efl5+Xn5efl5+Xn5efl5+Cg==",
		"ICAgICAgIC9gLS5fCiAgICAgXy8sLi5fLwogICwtJyAgICwgIGAtOiwuLScpICAKIDogbyApOic7ICAgICBfICB7ICAgCiAgYC0uICBgJyBfLC4tXGAtLikgIAogICAgIGBcXGBgXCwuLScK",
		"ICAgICAgICAgIC8iKi5fICAgICAgICAgXwogICAgICAuLSonYCAgICBgKi0uLl8uLScvCiAgICA8ICogKSkgICAgICwgICAgICAgKCAKICAgICAgYCotLl9gLl8oX18uLS0qImAuXAo=",
		"ICAgICAgICAgICAgICAgICAgICAgICAgICAuCiAgICAgICAgICAgICAgICAgICAgICAgICAgQSAgICAgICA7CiAgICAgICAgICAgICAgICB8ICAgLC0tLC0vIFwtLS0sLS98ICAsCiAgICAgICAgICAgICAgIF98XCwnLiAvfCAgICAgIC98ICAgYC98LS4KICAgICAgICAgICBcYC4nICAgIC98ICAgICAgLCAgICAgICAgICAgIGA7LgogICAgICAgICAgLCdcICAgQSAgICAgQSAgICAgICAgIEEgICBBIF8gL3wgYC47CiAgICAgICAgLC8gIF8gICAgICAgICAgICAgIEEgICAgICAgXyAgLyBfICAgL3wgIDsKICAgICAgIC9cICAvIFwgICAsICAsICAgICAgICAgICBBICAvICAgIC8gICAgIGAvfAogICAgICAvX3wgfCBfIFwgICAgICAgICAsICAgICAsICAgICAgICAgICAgICwvICBcCiAgICAgLy8gfCB8LyBgLlwgICwtICAgICAgLCAgICAgICAsICAgLC8gLC8gICAgICBcLwogICAgIC8gQHwgfEAgIC8gLycgICBcICBcICAgICAgLCAgICAgICAgICAgICAgPiAgL3wgICAgLC0tLgogICAgfFxfLyAgIFxfLyAvICAgICAgfCAgfCAgICAgICAgICAgLCAgLC8gICAgICAgIFwgIC4vJyBfXzouLgogICAgfCAgX18gX18gIHwgICAgICAgfCAgfCAuLS0uICAsICAgICAgICAgPiAgPiAgIHwtJyAgIC8gICAgIGAKICAsL3wgLyAgJyAgXCB8ICAgICAgIHwgIHwgICAgIFwgICAgICAsICAgICAgICAgICB8ICAgIC8KIC8gIHw8LS0uX18sLT58ICAgICAgIHwgIHwgLiAgICBgLiAgICAgICAgPiAgPiAgICAvICAgKAovXywnIFxcICBeICAvICBcICAgICAvICAvICAgYC4gICAgPi0tICAgICAgICAgICAgL15cICAgfAogICAgICBcXF9fXy8gICAgXCAgIC8gIC8gICAgICBcX18nICAgICBcICAgXCAgIFwvICAgXCAgfAogICAgICAgYC4gICB8LyAgICAgICAgICAsICAsICAgICAgICAgICAgICAgICAgL2BcICAgIFwgICkKICAgICAgICAgXCAgJyAgfC8gICAgLCAgICAgICBWICAgIFwgICAgICAgICAgLyAgICAgICAgYC1cCiAgICAgICAgICBgfC8gICcgIFYgICAgICBWICAgICAgICAgICBcICAgIFwuJyAgICAgICAgICAgIFxfCiAgICAgICAgICAgJ2AtLiAgICAgICBWICAgICAgIFYgICAgICAgIFwuLydcCiAgICAgICAgICAgICAgIGB8Ly0uICAgICAgXCAvICAgXCAvLC0tLWBcIAogICAgICAgICAgICAgICAgLyAgIGAuX19fX19WX19fX19WJwogICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAnCg==",
		"ICAgICAgICAgICAgICAgICAgICAgICAgIF8uJy5fXwogICAgICAgICAgICAgICAgICAgICAgXy4nICAgICAgLgonOicuICAgICAgICAgICAgICAgLicnICAgX18gX18gIC4KICAnLjouXyAgICAgICAgICAuLyAgXyAnJyAgICAgIi0nLl9fCi4nJyctOiAiIiItLl8gICAgfCAuICAgICAgICAgICAgICAgICItIi5fCiAnLiAgICAgLiAgICAiLl8uJyAgICAgICAgICAgICAgICAgICAgICAgIgogICAgJy4gICAiLS5fX18gLiAgICAgICAgLicgICAgICAgICAgLiAgOm8nLgogICAgICB8ICAgLi0tLS0gIC4gICAgICAuICAgICAgICAgICAuJyAgICAgKAogICAgICAgJ3wgIC0tLS0uICcgICAsLi5fICAgICAgICAgICAgICAgIF8tJwogICAgICAgIC4nIC4tLS0gIHwuIiIgIC4tOjsuLiBfX19fXy4tLS0tJwogICAgICAgIHwgICAuLSIiIiIgICAgfCAgICAgICcKICAgICAgLicgIF8nICAgICAgICAgLicgICAgXycKICAgICB8Xy4tJyAgICAgICAgICAgICctLicK",
		"ICAgICAgICAgICAgICAgTyAgbwogICAgICAgICAgX1xfICAgbwo+KCc+ICAgXFwvICBvXCAuCiAgICAgICAvL1xfX189CiAgICAgICAgICAnJwo=",
		"ICAgICAgICAgICAgX19fCiAgICAgICAgIF8gLyBfXylfICAgwrAKXyAgbXJmIC4nXyctJ1wgLy0nLS4gbyDCsCAKXCctLl8uJy0nXCAvIF9cLShPKV86IE8KIFwgKF9fXC9fIFwgJy5fKSAgX1wgbwogLy4nIChfLictLS0tJycuLycgCiAgICAgICAgICAgICAgICcK",
		"ICAgICAgICAgICBGSVNIS0lTU0ZJU0hLSVMgICAgICAgICAgICAgICAKICAgICAgIFNGSVNIS0lTU0ZJU0hLSVNTRklTSCAgICAgICAgICAgIEYKICAgIElTSEsgICBJU1NGSVNIS0lTU0ZJU0hLSVNTICAgICAgICAgRkkKICBTSEtJU1MgICBGSVNIS0lTU0ZJU0hLSVNTRklTUyAgICAgICBGSVMKSEtJU1NGSVNIS0lTU0ZJU0hLSVNTRklTSEtJU1NGSVNIICAgIEtJU1MKICBGSVNIS0lTU0ZJU0hLSVNTRklTSEtJU1NGSVNIS0lTUyAgRklTSEsKICAgICAgU1NGSVNIS0lTU0ZJU0hLSVNTRklTSEtJU1NGSVNIS0lTU0YKICBJU0hLSVNTRklTSEtJU1NGSVNIS0lTU0ZJU0hLSVNTRiAgSVNIS0kKU1NGSVNIS0lTU0ZJU0hLSVNTRklTSEtJU1NGSVNIS0lTICAgIFNGSVMKICBIS0lTU0ZJU0hLSVNTRklTSEtJU1NGSVNIS0lTUyAgICAgICBGSVMKICAgIEhLSVNTRklTSEtJU1NGSVNIS0lTU0ZJU0hLICAgICAgICAgSVMKICAgICAgIFNGSVNIS0lTU0ZJU0hLSVNTRklTSCAgICAgICAgICAgIEsKICAgICAgICAgSVNTRklTSEtJU1NGSVNISyAgICAgICAgICAgICAgIAo=",
		"ICAgICAgICAgLC0tLi4uLAogICAgICAgIC4nJy0uLicgICAgIF8KICAgICAgIC9AICAgIGAuLTogIF8vYAogICAgICAgPiApPCAgLC0uOiAoXykKICAgICAgICBgLi4tJyw6LQogICwtLS4uICAgYC0nCiAuJyctLiwnICAgICBfCi9AICAgIGAuLTogIChfKQo+ICk8ICAsLS46ICAgKwogYC4uLScsYCAgICAgICAgICAgCiAgIGAtJwo=",
		"ICAgICAgICAgXgogICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBfX18gICBfX18KICAgICAoKikgICAgICJPIiAgICAgICAgICAgICAgICAvICBfICAgXyAgXAogICAgKCopICAgICAgICAgICAgICAgICAgICAgICAgICAgLyBcIC8gXAogICAoKikgICAgIk8iICAgICAgICAgICAgICAgICAgICB8ICAgfCAgIHwgICAgfFwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfE8gIHxPICB8X19fLyAgXCAgICAgKysKIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxfLyBcXy8gICAgXCAgIHwgKysKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLyAgICAgIF9fICAgIFwgIFwKLyAgICAgL3wgICAvXCAgICAgICAgICAgICAgICAgIChfX19fX19fXy8gX18gICB8Xy8KICAgICAvIHwgIHwgIHwgICAgICAgICAgICAgICAgICAgKF9fXyAgICAgIC8gICB8ICAgIHxcCiAgICAvIC8gIC8gICB8ICAgICAgICAgICAgICAgICAgICAgXCAgICAgXHwgICAgfF9fXy8gIHwKICAgfCAgfCB8ICAgLyAgICAgICAgICAgICAgICAgICAgICAgXF9fX19fX19fXyAgICAgIF8vICAgKysrKwogIC8gICB8IHwgIHwgICAgICAgICAgICAgICAgICAgICAgKysgICAgICAgICAgIFwgICAgfAogfCAgIC8gLyAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArKyAgIHwgICAvICArKysKLyAgIC8gIHwgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrIC9fXy8Kfn5+IH5+fn4gICB+fn5+fn5+fn5+fn4gIH5+fn5+fn5+fn5+fn4gIH5+fn4gICAgICAgIH5+Kysrfn5+fiB+Cg==",
		"ICAgICAgICAsLSwKICAgICAgLC8uKCAgICAgX18KICAgLC0nICAgIGAhLl8vIC8KICA+IEAgKTx8ICAgIF8gPAogICBgLS4uLi4sLDsnIFxfXAo=",
		"ICAgICAgICAvXAogICAgICBfLy4vCiAgICwtJyAgICBgLTouLC0nLwogID4gTyApPCkgICAgXyAgKAogICBgLS5fICBfLjonIGAtLlwKICAgICAgIGBgIFw7Cg==",
		"ICAgICAgICBfX19fX19fX19fCiAgICAgICAvICAgICAgICAgIFwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoCiAgICAgIC9fX19fX19fX19fX19cICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcKQogICAgICAgfDpfOl86XzpfOl98ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkKICAgICAgIHxfOl8sLS0uOl86fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcLy8gICApCiAgICAgICB8Ol86fF9ffF86X3wgICAgICAgICAgICAgICAgICAgICAgICAgXyAgICAgICAgICAgICAgICkgKSkgICAoKAogICAgXyAgfF8gICBfICA6Xzp8ICAgXyAgIF8gICBfICAgICAgICAgICAgKF8pICAgICAgICAgICAgICgoKCggICAvKVxgCiAgIHwgfF98IHxffCB8ICAgX3wgIHwgfF98IHxffCB8ICAgICAgICAgICAgIG8gICAgICAgICAgICAgIFxcKSkgKCggKAogICAgXF86XzpfOl86L3xffF98X3xcOl86XzpfOl8vICAgICAgICAgICAgIC4gICAgICAgICAgICAgICAgKCggICApKSkpCiAgICAgfF8sLS5fOl86XzpfOl86XzpfOl8uLSxffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkgKCgvLwogICAgIHw6fF98Ol86XzosLS0tLDpfOl86fF98OnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLC0uICApLwogICAgIHxfOl86XzpfLCcgICAgIGAsXzpfOl86X3wgICAgICAgICAgIF8gIG8gICAgICAgICAgICAgICAsOycpKSgoCiAgICAgfDpfOl86Xy8gIF8gfCBfICBcXzpfOl86fCAgICAgICAgICAoX08gICAgICAgICAgICAgICAgICAgKCggICkpCl9fX19ffF86XzpffCAgKG8pLShvKSAgfF86XzpffC0tJ2AtLiAgICAgLC0tLiAgICAgICAgICAgICAgICAoKChcJy8KICcsIDt8Ol86Xzp8IC0oIC4tLiApLSB8Ol86Xzp8ICcsIDsgYC0tLl9cICAvLC0tLS5+ICAgICAgICAgICBcYCkpCi4gIGAgfF86XzpffCAgIFxgLScvICAgfF86XzpffC4gIGAgLiAgYCAgLygpXC5fXyggKSAuLC0tLS0tJ2AtXCgoCiAnLCA7fDpfOl86fCAgICBgLScgICAgfDpfOl86fCAnLCA7ICcsIDsgYC0tJ3wgICBcICcsIDsgJywgOyAnLCcpKS4sLS0KLiAgYCAuIGAgLiBgIC4gIGAgLiAgYCAuICBgIC4gIGAgLiAgYCAuICBgIC4gICAgLiAgYCAuICBgIC4gIGAgLiAgYCAuCiAnLCA7ICcsIDsgJywgOyAnLCA7ICcsIDsgJywgOyAnLCA7ICcsIDsgJywgOyAnLCA7ICcsIDsgJywgOyAnLCA7ICcsIDsK",
		"ICAgICAgIG8gICAgICAgICAgICAgICAgIG8KICAgICAgICAgICAgICAgICAgbwogICAgICAgICBvICAgX19fX19fICAgICAgbwogICAgICAgICAgIF8vICAoICAgXF8KIF8gICAgICAgXy8gICggICAgICAgXF8gIE8KfCBcXyAgIF8vICAoICAgKCAgICAwICBcCnw9PSBcXy8gICggICAoICAgICAgICAgIHwKfD09PSBfICggICAoICAgKCAgICAgICAgfAp8PT1fLyBcXyAoICAgKCAgICAgICAgICB8CnxfLyAgICAgXF8gKCAgICggICAgXF9fLwogICAgICAgICAgXF8gKCAgICAgIF8vCiAgICAgICAgICAgIHwgIHxfX18vCiAgICAgICAgICAgL19fLwo=",
		"ICAgICAgL1wKICAgIF8vLi8KICwtJyAgICBgLTouLi0nLwo6IG8gKSAgICAgIF8gICgKImAtLi4uLiwtLTsgYC0uXAogICAgYCcK",
		"ICAgICAgL2DCty7CuAogICAgIC/CuC4uLsK4YDrCtwogwrguwrfCtCAgwrggICBgwrcuwrguwrfCtCkKOiDCqSApOsK0OyAgICAgIMK4ICB7CiBgwrcuwrggYMK3ICDCuC7Ct8K0XGDCt8K4KQogICAgIGBcXMK0wrRcwrguwrfCtAo=",
		"ICAgICAgLiAgICAgICAgICAgIApcX19fX18pXF9fX19fCi8tLXZfX19fIF9fYDwgICAgICAgICAKICAgICAgICApLyAgICAgICAgICAgCiAgICAgICAgJwo=",
		"ICAgICAgXC8pLykKICAgIF8nICBvbyhfLi0uIAogIC8nLiAgICAgLi0tLScKLyctLi8gICAgKAopICAgICA7IF9fXApcXy4nXCA6IF9ffAogICAgICkgIF8vCiAgICAoICAoLC4KICAgICAnLS4tJwo=",
		"ICAgICB8XCAgICBvCiAgICB8ICBcICAgIG8KfFwgLyAgICAuXCBvCnwgfCAgICAgICAoCnwvIFwgICAgIC8KICAgIHwgIC8KICAgICB8Lwo=",
		"ICAgLAogIC98CiAvX3wgICwKL28gIFwvfApcPF9fL1x8CiBcIHwgIGAKICBcfCAgICAKICAgYAo=",
		"ICAgX19fX19fXwogIC8gICAgICAvICAgIAogLycnJycnXC8gXyAgIAovIEAgIF8gIFwvIHwgIAo+ICAgPF8pICAgIHwKXCAgICAgICAvXF98CiBcLi4uLi4vXAogIFxcX19fX19cICAgICAK",
		"IE8KTwogbyAgXGBgLwogICAgL28gYCkpCiAgIC9fL1xfc3MpKQogICAgICAgfF9zcykpL3wKICAgICAgfF9fc3MpKV98CiAgICAgfF9fc3NzKSlffAogICAgIHxfX19zcykpXHwKICAgICAgfF9zcykpCiAgICAgICApX3MpKQogKGAoICAvX3MpKQogIChfXC9fcykpCiAgIChcLykpCg==",
		"IF9fX19fX19fXyAgICAgICAgIC4gICAgLgooLi4gICAgICAgXF8gICAgLCAgfFwgIC98CiBcICAgICAgIE8gIFwgIC98ICBcIFwvIC8KICBcX19fX19fICAgIFwvIHwgICBcICAvIAogICAgIHZ2dnZcICAgIFwgfCAgIC8gIHwKICAgICBcXl5eXiAgPT0gICBcXy8gICB8CiAgICAgIGBcXyAgID09PSAgICBcLiAgfAogICAgICAvIC9cXyAgIFwgLyAgICAgIHwKICAgICAgfC8gICBcXyAgXHwgICAgICAvCiAgICAgICAgICAgICBcX19fX19fX18vCg==",
		"IG8KbyAgICAgIF9fX19fXy9+L34vfi9fXyAgICAgICAgICAgLygoCiAgbyAgLy8gX18gICAgICAgICAgICA9PT09X18gICAgL18oKAogbyAgLy8gIEApKSAgICAgICApKSkpICAgICAgPT09L19fKCgKICAgICkpICAgICAgICAgICApKSkpKSkpICAgICAgICBfXygoCiAgICBcXCAgICAgXCkgICAgICkpKSkgICAgX189PT1cIF8oKAogICAgIFxcX19fX19fX19fX19fX19fPT09PSAgICAgIFxfKCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCgoCiAgICAgIF9fX19fX18KICwtfn5+ICAgICAgIH5+fi0sCiggICAgICAgICAgICAgICAgICkKIFxfLSwgLCAsICwgLCAsLV8vCiAgICAvIC8gfCB8IFwgXAogICAgfCB8IHwgfCB8IHwKICAgIHwgfCB8IHwgfCB8CiAgIC8gLyAvICAgXCBcIFwKICAgfCB8IHwgICB8IHwgfAo=",
		"LiAgICAgICAgICAgICwKICAgICAgICAgICAuOi8KLiAgICAgICwsLy8vOywgICAsOy8KICAuICAgbzo6Ojo6Ojo7Oy8vLwogICAgID46Ojo6Ojo6Ojs7XFxcCiAgICAgICAnJ1xcXFxcJyIgJztcCiAgICAgICAgICAnO1wK",
		"TyAgICAgTyAgICAgICAgICAgLCAgICAgICAKICBvIG8gICAgICAgICAgLjovICAgIAogICAgbyAgICAgICwsLy8vOywgICAsOy8gCiAgICAgIG8gICBvKTo6Ojo6Ojs7Ly8vCiAgICAgICAgID46Ojo6Ojo6Ojs7XFxcIAogICAgICAgICAgICcnXFxcXFwnIiAnO1wgCiAgICAgICAgICAgICAgJztcCg==",
		"byAgICAgICAgICAgLy8gICAgICAgICsKIG8gICAgICAgIC8vLy8vLyAgICArKwogIC4gICAgQCkpKSkpKSkpKSkrKysKICAgLn06PDwpKSkpKSkpKSkpKSsrCiAgICAgICA8PFxcKSkpKSkpICsrKwogICAgICAgICAgXFwgICBcXCAgICsrCiAgICAgICAgICAgICAgICAgICAgICArCg==",
		"fFwgICBcXFxcX18gICAgIG8KfCBcXy8gICAgbyBcICAgIG8gCj4gXyAgICgoIDxfICBvbyAgCnwgLyBcX18rX19fLyAgICAgIAp8LyAgICAgfC8K",
	}

	fishPick := int(time.Now().UnixMicro()) % len(fish)
	fishPrint, err := base64.StdEncoding.DecodeString(fish[fishPick])

	if err != nil {
		return 1, errors.Wrapf(err, "Failed to decode fish %d", fishPick)
	}
	fmt.Printf("\n%s\n", string(fishPrint))

	return 0, nil
}
